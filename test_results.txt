================================================================================
AI Recipe & Grocery App - Backend API Testing
================================================================================
Using backend URL from frontend/.env: https://390faeca-fe6c-42c5-afe1-d1d19d490134.preview.emergentagent.com

🔍 Testing API Root...
⏱️ Request completed in 0.09 seconds
✅ Passed - Status: 200

==================================================
Testing User Authentication
==================================================
Note: Login test may fail if we don't have the correct password for the test user.
This won't prevent other tests from running.

🔍 Testing Login with Test User...
⏱️ Request completed in 0.46 seconds
❌ Failed - Expected 200, got 401
Response: {'detail': 'Invalid email or password'}

==================================================
Testing Recipe History Retrieval
==================================================
❌ No user ID available for testing - trying with a test ID

🔍 Testing Get User Recipes...
⏱️ Request completed in 0.04 seconds
✅ Passed - Status: 200
✅ Successfully retrieved 3 recipes for user
Recipe titles: ['Spaghetti Aglio e Pomodoro', 'Pasta Pomodoro', 'Garlic Tomato Pasta']
Using recipe ID: 8e724c50-ca14-4511-8c79-607631b91ed7 for further testing

==================================================
Testing Recipe Generation
==================================================
Testing recipe generation with 60 second timeout...

🔍 Testing Generate Recipe...
⏱️ Request completed in 3.31 seconds
✅ Passed - Status: 200
Generated recipe with ID: 2cc73f59-9f7e-48f8-8a9d-d6f34dc4a936

==================================================
Testing Walmart Cart Options
==================================================

🔍 Testing Cart Options Endpoint...
⏱️ Request completed in 0.07 seconds
✅ Passed - Status: 200
Created grocery cart options with ID: 05aacbbf-4f94-4ad1-b629-b044a7cd4a32
Found 6 ingredients with options
  Ingredient 1: 200g - 3 product options
    ✅ Product 1: Barilla Pasta Penne 16oz - $1.99 (ID: 123456789)
    ✅ Product 2: Great Value Spaghetti 1lb - $1.28 (ID: 123456790)
    ✅ Product 3: Ronzoni Pasta Shells 12oz - $1.68 (ID: 123456791)
  Ingredient 2: 4 - 2 product options
    ✅ Product 1: Fresh Garlic Bulb 3oz - $0.98 (ID: 789123456)
    ✅ Product 2: Minced Garlic Jar 8oz - $2.47 (ID: 789123457)
  Ingredient 3: 2 - 2 product options
    ✅ Product 1: Extra Virgin Olive Oil 16.9oz - $6.99 (ID: 321654987)
    ✅ Product 2: Great Value Olive Oil 17oz - $4.97 (ID: 321654988)
  Ingredient 4: 1 - 3 product options
    ✅ Product 1: Fresh Roma Tomatoes 2lb - $2.49 (ID: 987654321)
    ✅ Product 2: Canned Diced Tomatoes 14.5oz - $1.18 (ID: 987654322)
    ✅ Product 3: Cherry Tomatoes 1lb - $2.97 (ID: 987654323)
  Ingredient 5: Salt - 2 product options
    ✅ Product 1: Morton Salt 26oz - $1.24 (ID: 147258369)
    ✅ Product 2: Black Pepper Ground 3oz - $2.68 (ID: 147258370)
  Ingredient 6: Fresh - 2 product options
    ✅ Product 1: Great Value Fresh Parsley For Garnish - $2.99 (ID: 999460577)
    ✅ Product 2: Fresh Fresh Parsley For Garnish - $3.49 (ID: 888460577)

==================================================
Testing Custom Cart Creation
==================================================

🔍 Testing Create Custom Cart...
⏱️ Request completed in 0.02 seconds
✅ Passed - Status: 200
Created custom cart with ID: 6539ea3f-497c-446f-9df6-9c928a231b6a
Cart contains 3 products
Total price: $9.41 (Expected: $9.41)
✅ Total price calculated correctly
Walmart URL: https://affil.walmart.com/cart/addToCart?items=123456789,987654321,789123456
✅ Walmart URL correctly formatted
✅ All product IDs included in Walmart URL

==================================================
📊 Tests passed: 5/6
==================================================
