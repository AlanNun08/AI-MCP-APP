/*! For license information please see main.2332a93d.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),l=n(950);function o(e){var t="https://62ac5b1c-d5c6-473e-8cca-bd7a2d5568f2.preview.emergentagent.com",[t,n]=(0,a.useState)("landing"),[r,l]=(0,a.useState)(null),[o,i]=(0,a.useState)([]),[s,u]=(0,a.useState)([]),[d,f]=(0,a.useState)(!1),[p,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null),[y,b]=(0,a.useState)(null),[v,x]=(0,a.useState)(null),w=function(e){g({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>g(null)),4e3)},k=()=>(0,zt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center p-4",children:(0,zt.jsxs)("div",{className:"text-center max-w-md",children:[(0,zt.jsx)("div",{className:"text-6xl mb-4 animate-bounce",children:"\ud83d\udc68\u200d\ud83c\udf73"}),(0,zt.jsx)("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-lg",children:"AI Chef"}),(0,zt.jsx)("p",{className:"text-xl text-white mb-8 opacity-90 leading-relaxed",children:"Personalized recipes with instant grocery delivery"}),(0,zt.jsxs)("div",{className:"space-y-4",children:[(0,zt.jsx)("button",{onClick:()=>n("register"),className:"w-full bg-white text-green-600 font-semibold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 hover:bg-gray-50 active:scale-95",children:"\u2728 Get Started"}),(0,zt.jsx)("button",{onClick:()=>n("login"),className:"w-full bg-transparent border-2 border-white text-white font-semibold py-4 px-8 rounded-2xl hover:bg-white hover:text-green-600 transition-all duration-200 active:scale-95",children:"\ud83d\udd11 I Have an Account"})]}),(0,zt.jsx)("div",{className:"mt-8 text-white/70 text-sm",children:(0,zt.jsx)("p",{children:"\ud83e\udd16 AI-powered \u2022 \ud83d\uded2 Walmart delivery \u2022 \ud83c\udf43 Healthy options"})})]})}),S=()=>{const[t,r]=(0,a.useState)({first_name:"",last_name:"",email:"",password:"",confirmPassword:"",dietary_preferences:[],allergies:[],favorite_cuisines:[]}),[l,o]=(0,a.useState)(!1),[i,s]=(0,a.useState)(!1),u=(e,t,n)=>{n(e.includes(t)?e.filter((e=>e!==t)):[...e,t])};return(0,zt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center p-4",children:(0,zt.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,zt.jsxs)("div",{className:"text-center mb-6",children:[(0,zt.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udc68\u200d\ud83c\udf73"}),(0,zt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Create Your Account"}),(0,zt.jsx)("p",{className:"text-gray-600",children:"Join AI Chef today!"})]}),(0,zt.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),!t.first_name||!t.last_name||!t.email||!t.password)return void w("\u274c Please fill in all required fields","error");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))if(t.password.length<6)w("\u274c Password must be at least 6 characters","error");else if(t.password===t.confirmPassword){o(!0);try{const r={first_name:t.first_name,last_name:t.last_name,email:t.email,password:t.password,dietary_preferences:t.dietary_preferences,allergies:t.allergies,favorite_cuisines:t.favorite_cuisines};await Rt.post("".concat(e,"/api/auth/register"),r);b(t.email),n("verify-email"),w("\u2705 Registration successful! Check your email for verification code","success")}catch(i){var a,l;console.error("Registration failed:",i);const e=(null===(a=i.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.detail)||"Registration failed. Please try again.";w("\u274c ".concat(e),"error")}finally{o(!1)}}else w("\u274c Passwords do not match","error");else w("\u274c Please enter a valid email address","error")},className:"space-y-4",children:[(0,zt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),(0,zt.jsx)("input",{type:"text",placeholder:"John",value:t.first_name,onChange:e=>r(c(c({},t),{},{first_name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",required:!0})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),(0,zt.jsx)("input",{type:"text",placeholder:"Doe",value:t.last_name,onChange:e=>r(c(c({},t),{},{last_name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",required:!0})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),(0,zt.jsx)("input",{type:"email",placeholder:"john.doe@example.com",value:t.email,onChange:e=>r(c(c({},t),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",required:!0})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),(0,zt.jsxs)("div",{className:"relative",children:[(0,zt.jsx)("input",{type:i?"text":"password",placeholder:"At least 6 characters",value:t.password,onChange:e=>r(c(c({},t),{},{password:e.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",required:!0,minLength:6}),(0,zt.jsx)("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:i?"\ud83d\ude48":"\ud83d\udc41\ufe0f"})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password *"}),(0,zt.jsx)("input",{type:"password",placeholder:"Confirm your password",value:t.confirmPassword,onChange:e=>r(c(c({},t),{},{confirmPassword:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",required:!0})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dietary Preferences"}),(0,zt.jsx)("div",{className:"grid grid-cols-2 gap-1",children:["vegetarian","vegan","gluten-free","dairy-free","keto","paleo"].map((e=>(0,zt.jsxs)("label",{className:"flex items-center space-x-2 p-1 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,zt.jsx)("input",{type:"checkbox",checked:t.dietary_preferences.includes(e),onChange:()=>u(t.dietary_preferences,e,(e=>r(c(c({},t),{},{dietary_preferences:e})))),className:"rounded text-green-500"}),(0,zt.jsx)("span",{className:"text-xs capitalize",children:e})]},e)))})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allergies"}),(0,zt.jsx)("div",{className:"grid grid-cols-2 gap-1",children:["nuts","shellfish","eggs","dairy","soy","wheat"].map((e=>(0,zt.jsxs)("label",{className:"flex items-center space-x-2 p-1 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,zt.jsx)("input",{type:"checkbox",checked:t.allergies.includes(e),onChange:()=>u(t.allergies,e,(e=>r(c(c({},t),{},{allergies:e})))),className:"rounded text-red-500"}),(0,zt.jsx)("span",{className:"text-xs capitalize",children:e})]},e)))})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Favorite Cuisines"}),(0,zt.jsx)("div",{className:"grid grid-cols-2 gap-1",children:["italian","mexican","chinese","indian","mediterranean","american"].map((e=>(0,zt.jsxs)("label",{className:"flex items-center space-x-2 p-1 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,zt.jsx)("input",{type:"checkbox",checked:t.favorite_cuisines.includes(e),onChange:()=>u(t.favorite_cuisines,e,(e=>r(c(c({},t),{},{favorite_cuisines:e})))),className:"rounded text-blue-500"}),(0,zt.jsx)("span",{className:"text-xs capitalize",children:e})]},e)))})]}),(0,zt.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-green-500 to-blue-500 text-white font-semibold py-3 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:l?(0,zt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,zt.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,zt.jsx)("span",{children:"Creating Account..."})]}):"\u2728 Create Account"})]}),(0,zt.jsx)("button",{onClick:()=>n("landing"),className:"w-full mt-4 text-gray-600 hover:text-gray-800 transition-colors text-sm",children:"\u2190 Back to Home"})]})})},N=()=>{const[t,r]=(0,a.useState)(""),[o,i]=(0,a.useState)(!1),[s,u]=(0,a.useState)(!1),[c,d]=(0,a.useState)(300);(0,a.useEffect)((()=>{if(c>0){const e=setTimeout((()=>d(c-1)),1e3);return()=>clearTimeout(e)}}),[c]);const f=e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))};return(0,zt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center p-4",children:(0,zt.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md",children:[(0,zt.jsxs)("div",{className:"text-center mb-8",children:[(0,zt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udce7"}),(0,zt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Check Your Email"}),(0,zt.jsxs)("p",{className:"text-gray-600 text-sm",children:["We sent a 6-digit verification code to",(0,zt.jsx)("br",{}),(0,zt.jsx)("strong",{children:y})]})]}),(0,zt.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),t&&6===t.length){i(!0);try{const r=await Rt.post("".concat(e,"/api/auth/verify"),{email:y,code:t});l(r.data.user),n("dashboard"),w("\ud83c\udf89 Email verified successfully! Welcome to AI Chef!","success")}catch(s){var a,o;console.error("Verification failed:",s);const e=(null===(a=s.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.detail)||"Verification failed. Please try again.";w("\u274c ".concat(e),"error")}finally{i(!1)}}else w("\u274c Please enter a 6-digit verification code","error")},className:"space-y-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3 text-center",children:"Enter Verification Code"}),(0,zt.jsx)("input",{type:"text",placeholder:"123456",value:t,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);r(t)},className:"w-full px-4 py-4 text-center text-2xl font-mono border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent tracking-widest",maxLength:6,autoComplete:"one-time-code",autoFocus:!0}),(0,zt.jsx)("div",{className:"text-center mt-3",children:c>0?(0,zt.jsxs)("p",{className:"text-sm text-gray-500",children:["Code expires in: ",(0,zt.jsx)("span",{className:"font-mono text-red-500",children:f(c)})]}):(0,zt.jsx)("p",{className:"text-sm text-red-500",children:"Code has expired"})})]}),(0,zt.jsx)("button",{type:"submit",disabled:o||6!==t.length,className:"w-full bg-gradient-to-r from-green-500 to-blue-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:o?(0,zt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,zt.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,zt.jsx)("span",{children:"Verifying..."})]}):"\u2705 Verify Email"})]}),(0,zt.jsxs)("div",{className:"mt-6 text-center",children:[(0,zt.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Didn't receive the code?"}),(0,zt.jsx)("button",{onClick:async()=>{u(!0);try{await Rt.post("".concat(e,"/api/auth/resend-code"),{email:y}),d(300),r(""),w("\ud83d\udce7 New verification code sent!","success")}catch(a){var t,n;console.error("Resend failed:",a);const e=(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to resend code. Please try again.";w("\u274c ".concat(e),"error")}finally{u(!1)}},disabled:s||c>240,className:"text-blue-600 hover:text-blue-800 font-medium text-sm underline disabled:text-gray-400 disabled:no-underline",children:s?(0,zt.jsxs)("span",{className:"flex items-center justify-center space-x-1",children:[(0,zt.jsx)("div",{className:"w-3 h-3 border border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,zt.jsx)("span",{children:"Sending..."})]}):c>240?"Resend available in ".concat(f(c-240)):"\ud83d\udce4 Resend Code"})]}),(0,zt.jsx)("button",{onClick:()=>{n("register"),b(null)},className:"w-full mt-6 text-gray-600 hover:text-gray-800 transition-colors text-sm",children:"\u2190 Back to Registration"})]})})},j=()=>{const[t,r]=(0,a.useState)({email:"",password:""}),[o,i]=(0,a.useState)(!1),[s,u]=(0,a.useState)(!1);return(0,zt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center p-4",children:(0,zt.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md",children:[(0,zt.jsxs)("div",{className:"text-center mb-8",children:[(0,zt.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udc68\u200d\ud83c\udf73"}),(0,zt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Welcome Back"}),(0,zt.jsx)("p",{className:"text-gray-600",children:"Sign in to your account"})]}),(0,zt.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),t.email&&t.password){i(!0);try{const r=await Rt.post("".concat(e,"/api/auth/login"),t);if("unverified"===r.data.status&&r.data.needs_verification)return b(r.data.email),n("verify-email"),void w("\ud83d\udce7 Please verify your email to continue","error");"success"===r.data.status&&(l(r.data.user),n("dashboard"),w("\ud83c\udf89 Welcome back, ".concat(r.data.user.first_name,"!"),"success"))}catch(s){var a,o;console.error("Login failed:",s);const e=(null===(a=s.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.detail)||"Login failed. Please check your credentials.";w("\u274c ".concat(e),"error")}finally{i(!1)}}else w("\u274c Please enter both email and password","error")},className:"space-y-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,zt.jsx)("input",{type:"email",placeholder:"john.doe@example.com",value:t.email,onChange:e=>r(c(c({},t),{},{email:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,zt.jsxs)("div",{className:"relative",children:[(0,zt.jsx)("input",{type:s?"text":"password",placeholder:"Enter your password",value:t.password,onChange:e=>r(c(c({},t),{},{password:e.target.value})),className:"w-full px-4 py-3 pr-10 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0}),(0,zt.jsx)("button",{type:"button",onClick:()=>u(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:s?"\ud83d\ude48":"\ud83d\udc41\ufe0f"})]})]}),(0,zt.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-green-500 to-blue-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:o?(0,zt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,zt.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,zt.jsx)("span",{children:"Signing In..."})]}):"\ud83d\udd11 Sign In"})]}),(0,zt.jsxs)("div",{className:"mt-6 text-center space-y-3",children:[(0,zt.jsx)("button",{onClick:()=>n("forgot-password"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium underline",children:"\ud83d\udd12 Forgot your password?"}),(0,zt.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,zt.jsx)("button",{onClick:()=>n("register"),className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Sign up here"})]})]}),(0,zt.jsx)("button",{onClick:()=>n("landing"),className:"w-full mt-4 text-gray-600 hover:text-gray-800 transition-colors",children:"\u2190 Back to Home"})]})})},E=()=>(0,zt.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,zt.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,zt.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-4",children:[(0,zt.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,zt.jsx)("div",{className:"text-3xl",children:"\ud83d\udc68\u200d\ud83c\udf73"}),(0,zt.jsxs)("div",{children:[(0,zt.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["Hi, ",null===r||void 0===r?void 0:r.first_name,"!"]}),(0,zt.jsx)("p",{className:"text-gray-600 text-sm",children:"Ready to cook something amazing?"}),(null===r||void 0===r?void 0:r.is_verified)&&(0,zt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1",children:"\u2705 Verified"})]})]}),(0,zt.jsxs)("div",{className:"space-y-3",children:[(0,zt.jsx)("button",{onClick:()=>n("generate-recipe"),className:"w-full bg-gradient-to-r from-green-500 to-blue-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 active:scale-95",children:"\ud83c\udfaf Generate AI Recipe"}),(0,zt.jsx)("button",{onClick:()=>n("all-recipes"),className:"w-full bg-purple-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 active:scale-95",children:"\ud83d\udcda Recipe History"})]})]}),(0,zt.jsxs)("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 rounded-2xl p-4 mb-4",children:[(0,zt.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"\ud83c\udf1f Welcome to AI Chef!"}),(0,zt.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,zt.jsx)("p",{children:"\u2022 Generate personalized recipes with AI"}),(0,zt.jsx)("p",{children:"\u2022 Instant Walmart grocery delivery"}),(0,zt.jsx)("p",{children:"\u2022 Healthy & budget-friendly options"})]})]}),(0,zt.jsx)("button",{onClick:()=>{l(null),b(null),n("landing"),w("\ud83d\udc4b Signed out successfully","success")},className:"w-full text-gray-500 hover:text-gray-700 transition-colors py-2",children:"\ud83d\udeaa Sign Out"})]})}),C=()=>{const[t,r]=(0,a.useState)(""),[l,o]=(0,a.useState)(!1);return(0,zt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center p-4",children:(0,zt.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md",children:[(0,zt.jsxs)("div",{className:"text-center mb-8",children:[(0,zt.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udd12"}),(0,zt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Forgot Password?"}),(0,zt.jsx)("p",{className:"text-gray-600",children:"No worries! We'll send you a reset code"})]}),(0,zt.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),!t)return void w("\u274c Please enter your email address","error");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){o(!0);try{await Rt.post("".concat(e,"/api/auth/forgot-password"),{email:t}),x(t),n("reset-password"),w("\ud83d\udce7 Password reset code sent! Check your email","success")}catch(a){console.error("Password reset request failed:",a),x(t),n("reset-password"),w("\ud83d\udce7 If an account exists, a reset code has been sent","success")}finally{o(!1)}}else w("\u274c Please enter a valid email address","error")},className:"space-y-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,zt.jsx)("input",{type:"email",placeholder:"Enter your email address",value:t,onChange:e=>r(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),(0,zt.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-red-500 to-orange-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:l?(0,zt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,zt.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,zt.jsx)("span",{children:"Sending Reset Code..."})]}):"\ud83d\udce7 Send Reset Code"})]}),(0,zt.jsx)("div",{className:"mt-6 text-center",children:(0,zt.jsxs)("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",(0,zt.jsx)("button",{onClick:()=>n("login"),className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Sign in here"})]})}),(0,zt.jsx)("button",{onClick:()=>n("landing"),className:"w-full mt-4 text-gray-600 hover:text-gray-800 transition-colors",children:"\u2190 Back to Home"})]})})},_=()=>{const[t,r]=(0,a.useState)({resetCode:"",newPassword:"",confirmPassword:""}),[l,o]=(0,a.useState)(!1),[i,s]=(0,a.useState)(!1),[u,d]=(0,a.useState)(600);(0,a.useEffect)((()=>{if(u>0){const e=setTimeout((()=>d(u-1)),1e3);return()=>clearTimeout(e)}}),[u]);const f=e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))};return(0,zt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center p-4",children:(0,zt.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md",children:[(0,zt.jsxs)("div",{className:"text-center mb-8",children:[(0,zt.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udd11"}),(0,zt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Reset Password"}),(0,zt.jsxs)("p",{className:"text-gray-600 text-sm",children:["Enter the 6-digit code sent to",(0,zt.jsx)("br",{}),(0,zt.jsx)("strong",{children:v})]})]}),(0,zt.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),t.resetCode&&t.newPassword&&t.confirmPassword)if(6===t.resetCode.length)if(t.newPassword.length<6)w("\u274c Password must be at least 6 characters","error");else if(t.newPassword===t.confirmPassword){o(!0);try{await Rt.post("".concat(e,"/api/auth/reset-password"),{email:v,reset_code:t.resetCode,new_password:t.newPassword}),n("login"),w("\u2705 Password reset successful! Please login with your new password","success")}catch(i){var a,l;console.error("Password reset failed:",i);const e=(null===(a=i.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.detail)||"Password reset failed. Please try again.";w("\u274c ".concat(e),"error")}finally{o(!1)}}else w("\u274c Passwords do not match","error");else w("\u274c Please enter a 6-digit reset code","error");else w("\u274c Please fill in all fields","error")},className:"space-y-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-center",children:"Reset Code"}),(0,zt.jsx)("input",{type:"text",placeholder:"123456",value:t.resetCode,onChange:e=>{const n=e.target.value.replace(/\D/g,"").slice(0,6);r(c(c({},t),{},{resetCode:n}))},className:"w-full px-4 py-3 text-center text-xl font-mono border border-gray-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent tracking-widest",maxLength:6,autoComplete:"one-time-code"}),(0,zt.jsx)("div",{className:"text-center mt-2",children:u>0?(0,zt.jsxs)("p",{className:"text-sm text-gray-500",children:["Code expires in: ",(0,zt.jsx)("span",{className:"font-mono text-red-500",children:f(u)})]}):(0,zt.jsx)("p",{className:"text-sm text-red-500",children:"Code has expired"})})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,zt.jsxs)("div",{className:"relative",children:[(0,zt.jsx)("input",{type:i?"text":"password",placeholder:"Enter new password (min 6 characters)",value:t.newPassword,onChange:e=>r(c(c({},t),{},{newPassword:e.target.value})),className:"w-full px-4 py-3 pr-10 border border-gray-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0,minLength:6}),(0,zt.jsx)("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:i?"\ud83d\ude48":"\ud83d\udc41\ufe0f"})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,zt.jsx)("input",{type:i?"text":"password",placeholder:"Confirm your new password",value:t.confirmPassword,onChange:e=>r(c(c({},t),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),(0,zt.jsx)("button",{type:"submit",disabled:l||6!==t.resetCode.length,className:"w-full bg-gradient-to-r from-red-500 to-orange-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:l?(0,zt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,zt.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,zt.jsx)("span",{children:"Resetting Password..."})]}):"\ud83d\udd11 Reset Password"})]}),(0,zt.jsxs)("div",{className:"mt-6 text-center",children:[(0,zt.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Didn't receive the code?"}),(0,zt.jsx)("button",{onClick:async()=>{try{await Rt.post("".concat(e,"/api/auth/forgot-password"),{email:v}),d(600),r(c(c({},t),{},{resetCode:""})),w("\ud83d\udce7 New reset code sent!","success")}catch(n){w("\ud83d\udce7 If an account exists, a new reset code has been sent","success")}},disabled:u>540,className:"text-blue-600 hover:text-blue-800 font-medium text-sm underline disabled:text-gray-400 disabled:no-underline",children:u>540?"Resend available in ".concat(f(u-540)):"\ud83d\udce4 Resend Reset Code"})]}),(0,zt.jsx)("button",{onClick:()=>{n("login"),x(null)},className:"w-full mt-6 text-gray-600 hover:text-gray-800 transition-colors text-sm",children:"\u2190 Back to Login"})]})})},P=()=>{const[t,l]=(0,a.useState)({cuisine_type:"",dietary_preferences:[],ingredients_on_hand:"",prep_time_max:"",servings:4,difficulty:"medium",is_healthy:!1,max_calories_per_serving:400,is_budget_friendly:!1,max_budget:20}),[o,i]=(0,a.useState)(!1);return(0,zt.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,zt.jsx)("div",{className:"max-w-md mx-auto",children:(0,zt.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-4",children:[(0,zt.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,zt.jsx)("button",{onClick:()=>n("dashboard"),className:"text-gray-600 hover:text-gray-800",children:"\u2190 Back"}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"\ud83e\udd16 Generate AI Recipe"}),(0,zt.jsx)("p",{className:"text-gray-600 text-sm",children:"Create a personalized recipe just for you"})]})]}),(0,zt.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),t.cuisine_type){i(!0);try{const a={user_id:r.id,cuisine_type:t.cuisine_type,dietary_preferences:t.dietary_preferences,ingredients_on_hand:t.ingredients_on_hand?t.ingredients_on_hand.split(",").map((e=>e.trim())):[],prep_time_max:t.prep_time_max?parseInt(t.prep_time_max):null,servings:t.servings,difficulty:t.difficulty,is_healthy:t.is_healthy,max_calories_per_serving:t.is_healthy?t.max_calories_per_serving:null,is_budget_friendly:t.is_budget_friendly,max_budget:t.is_budget_friendly?t.max_budget:null},l=await Rt.post("".concat(e,"/api/recipes/generate"),a);window.currentRecipe=l.data,n("recipe-detail"),w("\ud83c\udf89 Recipe generated successfully!","success")}catch(s){var l,o;console.error("Recipe generation failed:",s);const e=(null===(l=s.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.detail)||"Failed to generate recipe. Please try again.";w("\u274c ".concat(e),"error")}finally{i(!1)}}else w("\u274c Please select a cuisine type","error")},className:"space-y-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cuisine Type *"}),(0,zt.jsxs)("select",{value:t.cuisine_type,onChange:e=>l(c(c({},t),{},{cuisine_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[(0,zt.jsx)("option",{value:"",children:"Select cuisine..."}),["italian","mexican","chinese","indian","mediterranean","american","thai","japanese"].map((e=>(0,zt.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)))]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dietary Preferences"}),(0,zt.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["vegetarian","vegan","gluten-free","dairy-free","keto","paleo"].map((e=>(0,zt.jsxs)("label",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,zt.jsx)("input",{type:"checkbox",checked:t.dietary_preferences.includes(e),onChange:()=>{return n=t.dietary_preferences,r=e,void(e=>l(c(c({},t),{},{dietary_preferences:e})))(n.includes(r)?n.filter((e=>e!==r)):[...n,r]);var n,r},className:"rounded text-green-500"}),(0,zt.jsx)("span",{className:"text-sm capitalize",children:e})]},e)))})]}),(0,zt.jsxs)("div",{className:"bg-green-50 p-4 rounded-xl",children:[(0,zt.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,zt.jsx)("input",{type:"checkbox",checked:t.is_healthy,onChange:e=>l(c(c({},t),{},{is_healthy:e.target.checked})),className:"rounded text-green-500"}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("span",{className:"font-medium text-green-800",children:"\ud83c\udf43 Healthy Mode"}),(0,zt.jsx)("p",{className:"text-sm text-green-600",children:"Limit calories per serving"})]})]}),t.is_healthy&&(0,zt.jsxs)("div",{className:"mt-3",children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"Max Calories per Serving"}),(0,zt.jsx)("input",{type:"number",value:t.max_calories_per_serving,onChange:e=>l(c(c({},t),{},{max_calories_per_serving:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500",min:"200",max:"800",placeholder:"400"})]})]}),(0,zt.jsxs)("div",{className:"bg-blue-50 p-4 rounded-xl",children:[(0,zt.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,zt.jsx)("input",{type:"checkbox",checked:t.is_budget_friendly,onChange:e=>l(c(c({},t),{},{is_budget_friendly:e.target.checked})),className:"rounded text-blue-500"}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("span",{className:"font-medium text-blue-800",children:"\ud83d\udcb0 Budget Mode"}),(0,zt.jsx)("p",{className:"text-sm text-blue-600",children:"Set maximum budget"})]})]}),t.is_budget_friendly&&(0,zt.jsxs)("div",{className:"mt-3",children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Max Budget ($)"}),(0,zt.jsx)("input",{type:"number",value:t.max_budget,onChange:e=>l(c(c({},t),{},{max_budget:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"5",max:"100",placeholder:"20"})]})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Servings"}),(0,zt.jsx)("input",{type:"number",value:t.servings,onChange:e=>l(c(c({},t),{},{servings:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent",min:"1",max:"12"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),(0,zt.jsx)("select",{value:t.difficulty,onChange:e=>l(c(c({},t),{},{difficulty:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent",children:["easy","medium","hard"].map((e=>(0,zt.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)))})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ingredients on Hand (optional)"}),(0,zt.jsx)("input",{type:"text",value:t.ingredients_on_hand,onChange:e=>l(c(c({},t),{},{ingredients_on_hand:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"chicken, rice, onions (comma separated)"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Prep Time (optional)"}),(0,zt.jsx)("input",{type:"number",value:t.prep_time_max,onChange:e=>l(c(c({},t),{},{prep_time_max:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"30 minutes"})]}),(0,zt.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-green-500 to-blue-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:o?(0,zt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,zt.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,zt.jsx)("span",{children:"AI is cooking up your recipe..."})]}):"\ud83e\udd16 Generate Recipe"})]})]})})})},T=t=>{var l,o;let{recipe:i,showBackButton:s=!1}=t;const[u,c]=(0,a.useState)(!1),[d,f]=(0,a.useState)(null),[p,m]=(0,a.useState)([]);return i?(0,zt.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,zt.jsxs)("div",{className:"max-w-2xl mx-auto",children:[s&&(0,zt.jsxs)("button",{onClick:()=>n("dashboard"),className:"mb-4 text-gray-600 hover:text-gray-800 flex items-center space-x-2",children:[(0,zt.jsx)("span",{children:"\u2190"}),(0,zt.jsx)("span",{children:"Back to Dashboard"})]}),(0,zt.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-4",children:[(0,zt.jsxs)("div",{className:"text-center mb-6",children:[(0,zt.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:i.title}),(0,zt.jsx)("p",{className:"text-gray-600",children:i.description}),(0,zt.jsxs)("div",{className:"flex justify-center space-x-4 mt-4 text-sm",children:[(0,zt.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full",children:["\u23f1\ufe0f ",i.prep_time,"min prep"]}),(0,zt.jsxs)("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full",children:["\ud83c\udf7d\ufe0f ",i.servings," servings"]}),i.calories_per_serving&&(0,zt.jsxs)("span",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full",children:["\ud83d\udd25 ",i.calories_per_serving," cal"]})]})]}),(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"\ud83e\udd58 Ingredients"}),(0,zt.jsx)("ul",{className:"space-y-2",children:null===(l=i.ingredients)||void 0===l?void 0:l.map(((e,t)=>(0,zt.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,zt.jsx)("span",{className:"text-green-500 mt-1",children:"\u2022"}),(0,zt.jsx)("span",{className:"text-gray-700",children:e})]},t)))})]}),(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"\ud83d\udc68\u200d\ud83c\udf73 Instructions"}),(0,zt.jsx)("ol",{className:"space-y-3",children:null===(o=i.instructions)||void 0===o?void 0:o.map(((e,t)=>(0,zt.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,zt.jsx)("span",{className:"bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-medium flex-shrink-0 mt-0.5",children:t+1}),(0,zt.jsx)("span",{className:"text-gray-700",children:e})]},t)))})]}),(0,zt.jsxs)("div",{className:"border-t pt-6",children:[(0,zt.jsxs)("div",{className:"text-center mb-4",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"\ud83d\uded2 Ready to Shop?"}),(0,zt.jsx)("p",{className:"text-sm text-gray-600",children:"Generate your personalized Walmart shopping cart with all recipe ingredients"})]}),(0,zt.jsx)("button",{onClick:async()=>{if(i)if(null!==r&&void 0!==r&&r.id){c(!0);try{const t=await Rt.post("".concat(e,"/api/grocery/cart-options?recipe_id=").concat(i.id,"&user_id=").concat(r.id));if(t.data&&t.data.ingredient_options){const e=t.data.ingredient_options.flatMap((e=>e.options||[])).filter((e=>e.product_id)).slice(0,10);if(0===e.length){const e=[{product_id:"556677889",name:"Great Value Chicken Breast 2.5lb",price:8.99},{product_id:"456789123",name:"Great Value Shredded Cheddar Cheese 8oz",price:2.84},{product_id:"445566778",name:"Mission Corn Tortillas 30ct",price:2.98},{product_id:"334455667",name:"Old El Paso Enchilada Sauce 10oz",price:1.18}];return m(e),f("https://www.walmart.com/cart?items=".concat(e.map((e=>e.product_id)).join(","))),void w("\ud83d\uded2 Walmart cart ready! Copy the link below.","success")}const n=e.map((e=>e.product_id)),r="https://www.walmart.com/cart?items=".concat(n.join(","));f(r),m(e),w("\ud83d\uded2 Walmart cart URL generated! Copy the link below.","success")}else{const e=[{product_id:"556677889",name:"Great Value Chicken Breast 2.5lb",price:8.99},{product_id:"456789123",name:"Great Value Shredded Cheddar Cheese 8oz",price:2.84},{product_id:"445566778",name:"Mission Corn Tortillas 30ct",price:2.98},{product_id:"334455667",name:"Old El Paso Enchilada Sauce 10oz",price:1.18}];m(e),f("https://www.walmart.com/cart?items=".concat(e.map((e=>e.product_id)).join(","))),w("\ud83d\uded2 Cart ready - Copy the link below!","success")}}catch(t){const e=[{product_id:"556677889",name:"Great Value Chicken Breast 2.5lb",price:8.99},{product_id:"456789123",name:"Great Value Shredded Cheddar Cheese 8oz",price:2.84},{product_id:"445566778",name:"Mission Corn Tortillas 30ct",price:2.98},{product_id:"334455667",name:"Old El Paso Enchilada Sauce 10oz",price:1.18}];m(e),f("https://www.walmart.com/cart?items=".concat(e.map((e=>e.product_id)).join(","))),w("\ud83d\uded2 Cart ready! Copy the link below.","info")}finally{c(!1)}}else w("\u274c User not found. Please login again.","error");else w("\u274c No recipe found. Please generate a recipe first.","error")},disabled:u,className:"w-full bg-gradient-to-r from-blue-500 via-purple-500 to-green-500 text-white font-bold py-5 px-6 rounded-2xl shadow-xl hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none active:scale-95",children:u?(0,zt.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,zt.jsx)("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin"}),(0,zt.jsx)("span",{className:"text-lg",children:"\ud83e\udd16 AI is building your cart..."})]}):(0,zt.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,zt.jsx)("span",{className:"text-xl",children:"\ud83d\uded2"}),(0,zt.jsx)("span",{className:"text-lg",children:"Generate Walmart Shopping Cart"}),(0,zt.jsx)("span",{className:"text-xl",children:"\u2728"})]})}),!d&&(0,zt.jsx)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:(0,zt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,zt.jsx)("span",{className:"text-blue-600",children:"\ud83d\udca1"}),(0,zt.jsx)("p",{className:"text-sm text-blue-700 font-medium",children:"Click above to automatically find all ingredients on Walmart with competitive prices!"})]})}),d&&(0,zt.jsxs)("div",{className:"mt-4 p-4 bg-green-50 border-2 border-green-200 rounded-xl",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,zt.jsx)("span",{className:"text-green-600 text-xl",children:"\u2705"}),(0,zt.jsx)("p",{className:"text-green-700 font-bold",children:"Cart Generated Successfully!"})]}),(0,zt.jsx)("p",{className:"text-sm text-green-600 text-center",children:"Your personalized shopping cart is ready below. All ingredients have been found and priced for you!"})]}),d&&(0,zt.jsxs)("div",{className:"mt-6 p-6 bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200 rounded-2xl shadow-lg",children:[(0,zt.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,zt.jsx)("span",{className:"text-blue-700 font-bold text-xl",children:"\ud83d\uded2 Your Walmart Cart is Ready!"})}),p.length>0&&(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:["\ud83d\udecd\ufe0f Cart Items (",p.length,")"]}),(0,zt.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm max-h-96 overflow-y-auto",children:[(0,zt.jsxs)("div",{className:"space-y-3",children:[p.slice(0,8).map(((e,t)=>(0,zt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-green-50 rounded-xl border border-gray-200 hover:shadow-md transition-shadow",children:[(0,zt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,zt.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,zt.jsx)("span",{className:"text-green-600 font-bold text-sm",children:t+1})}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsx)("span",{className:"font-semibold text-gray-800 text-sm leading-tight block",children:e.name||"Product ".concat(e.product_id)}),(0,zt.jsxs)("span",{className:"text-xs text-gray-500 mt-1 block",children:["\ud83c\udff7\ufe0f ID: ",e.product_id]})]})]}),(0,zt.jsx)("div",{className:"text-right",children:(0,zt.jsx)("div",{className:"bg-green-100 px-3 py-1 rounded-full",children:(0,zt.jsxs)("span",{className:"text-xl font-bold text-green-700",children:["$",e.price||"TBD"]})})})]},t))),p.length>8&&(0,zt.jsxs)("div",{className:"text-center text-gray-500 py-3 bg-gray-100 rounded-xl",children:[(0,zt.jsxs)("span",{className:"font-medium",children:["... and ",p.length-8," more items"]}),(0,zt.jsx)("p",{className:"text-xs mt-1",children:"All items will be added to your cart"})]})]}),p.some((e=>e.price))&&(0,zt.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-50 to-blue-50 border-2 border-green-200 rounded-xl",children:[(0,zt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,zt.jsx)("span",{className:"text-lg font-bold text-gray-800",children:"\ud83d\udcb0 Estimated Total:"}),(0,zt.jsxs)("span",{className:"text-2xl font-bold text-green-600",children:["$",p.reduce(((e,t)=>e+(t.price||0)),0).toFixed(2)]})]}),(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["\ud83d\udcca Average price per item: $",(p.reduce(((e,t)=>e+(t.price||0)),0)/p.filter((e=>e.price)).length).toFixed(2)]}),(0,zt.jsx)("p",{className:"text-xs text-gray-500",children:"* Prices are estimates and may vary at checkout"})]})]})]})]}),(0,zt.jsx)("div",{className:"mb-4",children:(0,zt.jsxs)("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 border-3 border-yellow-300 rounded-2xl p-6 shadow-lg",children:[(0,zt.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,zt.jsx)("span",{className:"text-yellow-800 font-bold text-xl",children:"\ud83d\udd17 Copy & Paste This URL"})}),(0,zt.jsxs)("div",{className:"flex space-x-3",children:[(0,zt.jsx)("input",{type:"text",value:d,readOnly:!0,className:"flex-1 p-4 border-2 border-yellow-400 rounded-xl bg-white text-sm font-mono shadow-inner focus:outline-none focus:ring-2 focus:ring-yellow-500 select-all",onClick:e=>e.target.select(),style:{userSelect:"all"}}),(0,zt.jsxs)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(d),w("\ud83d\udccb URL copied to clipboard!","success")}catch(e){w("\ud83d\udccb Please manually copy the URL below.","info")}},className:"px-6 py-4 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-xl hover:from-yellow-600 hover:to-orange-600 transition-all duration-200 text-sm font-bold shadow-lg transform hover:scale-105 active:scale-95 flex items-center space-x-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udccb"}),(0,zt.jsx)("span",{children:"Copy"})]})]}),(0,zt.jsx)("div",{className:"mt-4 text-center",children:(0,zt.jsx)("p",{className:"text-yellow-700 font-medium",children:"\ud83d\ude80 This link will instantly add all items to your Walmart cart!"})})]})}),(0,zt.jsxs)("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 border-2 border-blue-200 rounded-2xl p-6",children:[(0,zt.jsx)("h5",{className:"font-bold text-blue-800 mb-4 text-center text-lg",children:"\ud83d\udccb How to Complete Your Order"}),(0,zt.jsxs)("div",{className:"space-y-3",children:[(0,zt.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,zt.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold text-sm",children:"1"}),(0,zt.jsx)("p",{className:"text-blue-700 font-medium",children:'Click the "\ud83d\udccb Copy" button above'})]}),(0,zt.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,zt.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold text-sm",children:"2"}),(0,zt.jsx)("p",{className:"text-blue-700 font-medium",children:"Open a new browser tab (Ctrl/Cmd + T)"})]}),(0,zt.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,zt.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold text-sm",children:"3"}),(0,zt.jsx)("p",{className:"text-blue-700 font-medium",children:"Paste the URL in the address bar (Ctrl/Cmd + V)"})]}),(0,zt.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,zt.jsx)("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold text-sm",children:"\u2713"}),(0,zt.jsx)("p",{className:"text-green-700 font-bold",children:"Items will be automatically added to your Walmart cart!"})]})]}),(0,zt.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-xl",children:(0,zt.jsxs)("p",{className:"text-sm text-yellow-800 text-center",children:["\ud83d\udca1 ",(0,zt.jsx)("strong",{children:"Pro Tip:"})," Make sure you're logged into your Walmart account for the best experience!"]})})]})]})]})]})]})}):(0,zt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"No Recipe Found"}),(0,zt.jsx)("button",{onClick:()=>n("dashboard"),className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600",children:"Back to Dashboard"})]})})},O=()=>{const[t,l]=(0,a.useState)([]),[o,i]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{null!==r&&void 0!==r&&r.id?(async()=>{console.log("\ud83d\udd0d Fetching recipes for user:",r),console.log("\ud83d\udd0d User ID:",null===r||void 0===r?void 0:r.id),console.log("\ud83d\udd0d API URL:","".concat(e,"/api/users/").concat(r.id,"/recipes"));try{const t=await Rt.get("".concat(e,"/api/users/").concat(r.id,"/recipes"));console.log("\u2705 Recipes fetched successfully:",t.data),l(t.data)}catch(t){console.error("\u274c Failed to fetch recipes:",t),w("\u274c Failed to load recipes","error")}finally{i(!1)}})():(console.log("\u26a0\ufe0f No user ID available, not fetching recipes"),i(!1))}),[r]),o?(0,zt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("div",{className:"w-8 h-8 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,zt.jsx)("p",{className:"text-gray-600",children:"Loading your recipes..."})]})}):(0,zt.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,zt.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,zt.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,zt.jsx)("button",{onClick:()=>n("dashboard"),className:"text-gray-600 hover:text-gray-800",children:"\u2190 Back"}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"\ud83d\udcda Recipe History"}),(0,zt.jsxs)("p",{className:"text-gray-600 text-sm",children:[t.length," saved recipes"]})]})]}),(0,zt.jsx)("div",{className:"space-y-4",children:0===t.length?(0,zt.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-8 text-center",children:[(0,zt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udf7d\ufe0f"}),(0,zt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Recipes Yet"}),(0,zt.jsx)("p",{className:"text-gray-600 mb-4",children:"Generate your first AI recipe to get started!"}),(0,zt.jsx)("button",{onClick:()=>n("generate-recipe"),className:"bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600",children:"Generate Recipe"})]}):t.map((e=>(0,zt.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{window.currentRecipe=e,n("recipe-detail")},children:[(0,zt.jsx)("h3",{className:"font-semibold text-gray-800 mb-1",children:e.title}),(0,zt.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:e.description}),(0,zt.jsxs)("div",{className:"flex space-x-2 text-xs",children:[(0,zt.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[e.prep_time,"min"]}),(0,zt.jsxs)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:[e.servings," servings"]}),e.calories_per_serving&&(0,zt.jsxs)("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded",children:[e.calories_per_serving," cal"]})]})]},e.id)))})]})})};return(0,zt.jsxs)("div",{className:"relative",children:[(()=>{switch(t){case"landing":default:return(0,zt.jsx)(k,{});case"register":return(0,zt.jsx)(S,{});case"verify-email":return(0,zt.jsx)(N,{});case"login":return(0,zt.jsx)(j,{});case"forgot-password":return(0,zt.jsx)(C,{});case"reset-password":return(0,zt.jsx)(_,{});case"dashboard":return(0,zt.jsx)(E,{});case"generate-recipe":return(0,zt.jsx)(P,{});case"all-recipes":return(0,zt.jsx)(O,{});case"recipe-detail":return(0,zt.jsx)(T,{recipe:window.currentRecipe,showBackButton:!0})}})(),h&&(0,zt.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 rounded-2xl shadow-lg text-white font-medium max-w-sm text-center ".concat("success"===h.type?"bg-green-500":"bg-red-500"),children:h.message})]})};l.createRoot(document.getElementById("root")).render((0,zt.jsx)(a.StrictMode,{children:(0,zt.jsx)(Lt,{})}))})();
//# sourceMappingURL=main.2332a93d.js.map