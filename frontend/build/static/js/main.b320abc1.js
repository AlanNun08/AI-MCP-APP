/*! For license information please see main.b320abc1.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),l=n(950);function o(e){var t="https://1896460c-1fcb-418f-bf8d-0da71d07a349.preview.emergentagent.com"})(),At="".concat(Lt,"/api");Rt.interceptors.response.use((e=>e),(e=>(console.error("API Error:",e),"ERR_NETWORK"===e.code&&alert("Network error: Unable to connect to the server. Please try again."),Promise.reject(e))));const Ft=function(){const[e,t]=(0,a.useState)("home"),[n,r]=(0,a.useState)(null),[l,o]=(0,a.useState)([]),[i,s]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=localStorage.getItem("user");e&&(r(JSON.parse(e)),t("dashboard"))}),[]);const u=()=>(0,zt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center p-4",children:(0,zt.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-sm w-full text-center",children:[(0,zt.jsxs)("div",{className:"mb-8",children:[(0,zt.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-orange-400 to-red-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,zt.jsx)("span",{className:"text-3xl",children:"\ud83c\udf73"})}),(0,zt.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"AI Chef"}),(0,zt.jsx)("p",{className:"text-gray-600",children:"Personalized recipes with instant grocery delivery"})]}),(0,zt.jsxs)("div",{className:"space-y-4",children:[(0,zt.jsx)("button",{onClick:()=>t("signup"),className:"w-full bg-gradient-to-r from-green-500 to-blue-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200",children:"Get Started"}),(0,zt.jsx)("button",{onClick:()=>t("login"),className:"w-full border-2 border-gray-300 text-gray-700 font-semibold py-4 px-6 rounded-2xl hover:bg-gray-50 transition-all duration-200",children:"I Have an Account"})]})]})}),d=()=>{const[e,n]=(0,a.useState)({name:"",email:"",dietary_preferences:[],allergies:[],favorite_cuisines:[]}),l=(e,t)=>{n((n=>c(c({},n),{},{[e]:n[e].includes(t)?n[e].filter((e=>e!==t)):[...n[e],t]})))};return(0,zt.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,zt.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-3xl shadow-lg p-6",children:[(0,zt.jsxs)("div",{className:"text-center mb-6",children:[(0,zt.jsx)("button",{onClick:()=>t("home"),className:"absolute top-4 left-4 p-2 text-gray-600 hover:text-gray-800",children:"\u2190 Back"}),(0,zt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Tell us about yourself"})]}),(0,zt.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),s(!0);try{console.log("Creating user with data:",e);const n=(await Rt.post("".concat(At,"/users"),e)).data;console.log("User created successfully:",n),r(n),localStorage.setItem("user",JSON.stringify(n)),t("dashboard")}catch(a){console.error("Signup error:",a),alert("Failed to create account. Please try again.")}finally{s(!1)}},className:"space-y-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),(0,zt.jsx)("input",{type:"text",required:!0,value:e.name,onChange:t=>n(c(c({},e),{},{name:t.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,zt.jsx)("input",{type:"email",required:!0,value:e.email,onChange:t=>n(c(c({},e),{},{email:t.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dietary Preferences"}),(0,zt.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["vegetarian","vegan","gluten-free","keto","paleo","low-carb"].map((t=>(0,zt.jsx)("button",{type:"button",onClick:()=>l("dietary_preferences",t),className:"px-3 py-2 rounded-lg text-sm font-medium transition-all ".concat(e.dietary_preferences.includes(t)?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:t},t)))})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allergies"}),(0,zt.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["nuts","dairy","eggs","soy","shellfish","fish"].map((t=>(0,zt.jsx)("button",{type:"button",onClick:()=>l("allergies",t),className:"px-3 py-2 rounded-lg text-sm font-medium transition-all ".concat(e.allergies.includes(t)?"bg-red-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:t},t)))})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Favorite Cuisines"}),(0,zt.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["italian","mexican","asian","american","mediterranean","indian"].map((t=>(0,zt.jsx)("button",{type:"button",onClick:()=>l("favorite_cuisines",t),className:"px-3 py-2 rounded-lg text-sm font-medium transition-all ".concat(e.favorite_cuisines.includes(t)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:t},t)))})]}),(0,zt.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-green-500 to-blue-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 disabled:opacity-50",children:i?"Creating Account...":"Create Account"})]})]})})},f=()=>{var e;const[r,l]=(0,a.useState)([]),[o,i]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{null!==n&&void 0!==n&&n.id&&(async()=>{i(!0);try{const e=await Rt.get("".concat(At,"/recipes?user_id=").concat(n.id));l(e.data)}catch(e){console.error("Error loading user recipes:",e)}finally{i(!1)}})()}),[null===n||void 0===n?void 0:n.id]),(0,zt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zt.jsx)("div",{className:"bg-white shadow-sm p-4",children:(0,zt.jsxs)("div",{className:"max-w-md mx-auto flex items-center justify-between",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsxs)("h1",{className:"text-xl font-bold text-gray-800",children:["Hi, ",null===n||void 0===n?void 0:n.name,"! \ud83d\udc4b"]}),(0,zt.jsx)("p",{className:"text-sm text-gray-600",children:"What would you like to cook today?"})]}),(0,zt.jsx)("button",{onClick:()=>t("profile"),className:"w-10 h-10 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white font-semibold",children:null===n||void 0===n||null===(e=n.name)||void 0===e?void 0:e[0]})]})}),(0,zt.jsx)("div",{className:"p-4 max-w-md mx-auto",children:(0,zt.jsxs)("div",{className:"space-y-4",children:[(0,zt.jsxs)("button",{onClick:()=>t("generate"),className:"w-full bg-gradient-to-r from-orange-400 to-red-500 text-white font-semibold py-6 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 flex items-center justify-center space-x-3",children:[(0,zt.jsx)("span",{className:"text-2xl",children:"\ud83e\udd16"}),(0,zt.jsx)("span",{className:"text-lg",children:"Generate AI Recipe"})]}),(0,zt.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"My Recipes"}),(0,zt.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:r.length})]}),o?(0,zt.jsx)("div",{className:"text-center py-4",children:(0,zt.jsx)("div",{className:"loading text-gray-500",children:"Loading recipes..."})}):r.length>0?(0,zt.jsxs)("div",{className:"space-y-3",children:[r.slice(0,3).map((e=>(0,zt.jsx)("div",{onClick:()=>{t("recipe-detail"),window.currentRecipe=e},className:"p-3 bg-gray-50 rounded-xl hover:bg-gray-100 cursor-pointer transition-colors",children:(0,zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsx)("h4",{className:"font-medium text-gray-800 text-sm",children:e.title}),(0,zt.jsxs)("div",{className:"flex items-center space-x-3 mt-1",children:[(0,zt.jsxs)("span",{className:"text-xs text-gray-500",children:["\u23f1\ufe0f ",e.prep_time+e.cook_time,"m"]}),(0,zt.jsxs)("span",{className:"text-xs text-gray-500",children:["\ud83d\udc65 ",e.servings]}),e.is_healthy&&(0,zt.jsxs)("span",{className:"text-xs text-green-600",children:["\ud83c\udf43 ",e.calories_per_serving,"cal"]})]})]}),(0,zt.jsx)("div",{className:"text-gray-400",children:(0,zt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},e.id))),r.length>3&&(0,zt.jsxs)("button",{onClick:()=>t("all-recipes"),className:"w-full bg-blue-50 text-blue-700 font-medium py-3 px-4 rounded-xl hover:bg-blue-100 transition-all text-sm",children:["View All ",r.length," Recipes"]})]}):(0,zt.jsxs)("div",{className:"text-center py-6",children:[(0,zt.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcdd"}),(0,zt.jsx)("p",{className:"text-gray-500 text-sm",children:"No recipes yet"}),(0,zt.jsx)("p",{className:"text-gray-400 text-xs",children:"Generate your first AI recipe above!"})]})]}),(0,zt.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,zt.jsx)("button",{className:"bg-yellow-100 text-yellow-800 font-medium py-3 px-4 rounded-xl hover:bg-yellow-200 transition-all text-sm",children:"\ud83d\uded2 Order History"}),(0,zt.jsx)("button",{onClick:()=>t("all-recipes"),className:"bg-purple-100 text-purple-800 font-medium py-3 px-4 rounded-xl hover:bg-purple-200 transition-all text-sm",children:"\u2764\ufe0f All Recipes"})]})]})]})})]})},p=()=>{const[e,r]=(0,a.useState)({cuisine_type:"",dietary_preferences:[],ingredients_on_hand:[],prep_time_max:"",servings:4,difficulty:"medium",is_healthy:!1,max_calories_per_serving:500,is_budget_friendly:!1,max_budget:25}),[l,o]=(0,a.useState)(null);return l?(0,zt.jsx)(m,{recipe:l,showBackButton:!0}):(0,zt.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,zt.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-3xl shadow-lg p-6",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zt.jsx)("button",{onClick:()=>t("dashboard"),className:"p-2 text-gray-600 hover:text-gray-800",children:"\u2190 Back"}),(0,zt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Generate Recipe"}),(0,zt.jsx)("div",{})]}),(0,zt.jsxs)("div",{className:"space-y-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cuisine Type"}),(0,zt.jsxs)("select",{value:e.cuisine_type,onChange:t=>r(c(c({},e),{},{cuisine_type:t.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",children:[(0,zt.jsx)("option",{value:"",children:"Any cuisine"}),(0,zt.jsx)("option",{value:"italian",children:"Italian"}),(0,zt.jsx)("option",{value:"mexican",children:"Mexican"}),(0,zt.jsx)("option",{value:"asian",children:"Asian"}),(0,zt.jsx)("option",{value:"american",children:"American"}),(0,zt.jsx)("option",{value:"mediterranean",children:"Mediterranean"}),(0,zt.jsx)("option",{value:"indian",children:"Indian"})]})]}),(0,zt.jsxs)("div",{className:"bg-green-50 p-4 rounded-xl",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,zt.jsx)("label",{className:"text-sm font-medium text-green-800",children:"\ud83c\udf43 Healthy Recipe Mode"}),(0,zt.jsx)("button",{type:"button",onClick:()=>r(c(c({},e),{},{is_healthy:!e.is_healthy})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(e.is_healthy?"bg-green-500":"bg-gray-300"),children:(0,zt.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(e.is_healthy?"translate-x-6":"translate-x-1")})})]}),e.is_healthy&&(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-xs font-medium text-green-700 mb-2",children:"Max Calories Per Serving"}),(0,zt.jsxs)("select",{value:e.max_calories_per_serving,onChange:t=>r(c(c({},e),{},{max_calories_per_serving:parseInt(t.target.value)})),className:"w-full px-3 py-2 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 text-sm",children:[(0,zt.jsx)("option",{value:300,children:"300 calories (Very Light)"}),(0,zt.jsx)("option",{value:400,children:"400 calories (Light)"}),(0,zt.jsx)("option",{value:500,children:"500 calories (Moderate)"}),(0,zt.jsx)("option",{value:600,children:"600 calories (Balanced)"}),(0,zt.jsx)("option",{value:700,children:"700 calories (Hearty)"})]}),(0,zt.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"AI will focus on lean proteins, vegetables, and whole grains"})]})]}),(0,zt.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-xl",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,zt.jsx)("label",{className:"text-sm font-medium text-yellow-800",children:"\ud83d\udcb0 Budget-Friendly Mode"}),(0,zt.jsx)("button",{type:"button",onClick:()=>r(c(c({},e),{},{is_budget_friendly:!e.is_budget_friendly})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(e.is_budget_friendly?"bg-yellow-500":"bg-gray-300"),children:(0,zt.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(e.is_budget_friendly?"translate-x-6":"translate-x-1")})})]}),e.is_budget_friendly&&(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-xs font-medium text-yellow-700 mb-2",children:"Max Budget for Ingredients"}),(0,zt.jsxs)("select",{value:e.max_budget,onChange:t=>r(c(c({},e),{},{max_budget:parseFloat(t.target.value)})),className:"w-full px-3 py-2 border border-yellow-300 rounded-lg focus:ring-2 focus:ring-yellow-500 text-sm",children:[(0,zt.jsx)("option",{value:10,children:"$10 (Ultra Budget)"}),(0,zt.jsx)("option",{value:15,children:"$15 (Budget)"}),(0,zt.jsx)("option",{value:20,children:"$20 (Economical)"}),(0,zt.jsx)("option",{value:25,children:"$25 (Moderate)"}),(0,zt.jsx)("option",{value:30,children:"$30 (Comfortable)"})]}),(0,zt.jsx)("p",{className:"text-xs text-yellow-600 mt-1",children:"AI will use affordable ingredients like beans, rice, and seasonal produce"})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Prep Time (minutes)"}),(0,zt.jsx)("input",{type:"number",value:e.prep_time_max,onChange:t=>r(c(c({},e),{},{prep_time_max:t.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 30"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Servings"}),(0,zt.jsx)("input",{type:"number",value:e.servings,onChange:t=>r(c(c({},e),{},{servings:parseInt(t.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",min:"1",max:"12"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),(0,zt.jsxs)("select",{value:e.difficulty,onChange:t=>r(c(c({},e),{},{difficulty:t.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",children:[(0,zt.jsx)("option",{value:"easy",children:"Easy"}),(0,zt.jsx)("option",{value:"medium",children:"Medium"}),(0,zt.jsx)("option",{value:"hard",children:"Hard"})]})]}),(0,zt.jsx)("button",{onClick:async()=>{if(!n||!n.id)return alert("Please log in to generate recipes"),void t("home");s(!0);try{console.log("Generating recipe for user:",n.id),console.log("Recipe request:",e);const r=(await Rt.post("".concat(At,"/recipes/generate"),c({user_id:n.id},e))).data;console.log("Recipe generated successfully:",r);try{const e=await Rt.get("".concat(At,"/recipes?user_id=").concat(n.id));window.userRecipes=e.data,console.log("Updated user recipes:",e.data.length)}catch(o){console.log("Could not refresh recipes list:",o)}window.currentRecipe=r,window.autoGenerateGroceries=!0,t("recipe-detail")}catch(o){var r;if(console.error("Recipe generation error:",o),console.error("Error details:",null===(r=o.response)||void 0===r?void 0:r.data),"ERR_NETWORK"===o.code){alert("Demo Mode: Backend not accessible. Showing sample recipe.");const n={id:"demo-recipe-"+Date.now(),title:e.cuisine_type?"".concat(e.cuisine_type.charAt(0).toUpperCase()+e.cuisine_type.slice(1)," ").concat(e.is_healthy?"Healthy ":"","Demo Recipe"):"Demo Recipe",description:"A delicious ".concat(e.cuisine_type||"international"," dish perfect for ").concat(e.servings," people.").concat(e.is_healthy?" This healthy version contains approximately "+e.max_calories_per_serving+" calories per serving.":""),ingredients:["2 cups main ingredient","1 onion, diced","2 cloves garlic, minced","2 tbsp olive oil","Salt and pepper to taste","Fresh herbs for garnish"],instructions:["Prepare all ingredients by washing and chopping as needed.","Heat olive oil in a large pan over medium heat.","Add onion and cook until translucent, about 5 minutes.","Add garlic and cook for another minute until fragrant.","Add main ingredient and season with salt and pepper.","Cook according to ingredient requirements.","Garnish with fresh herbs and serve hot.","Enjoy your delicious meal!"],prep_time:parseInt(e.prep_time_max)||15,cook_time:20,servings:e.servings,cuisine_type:e.cuisine_type||"international",dietary_tags:e.dietary_preferences,difficulty:e.difficulty,calories_per_serving:e.is_healthy?e.max_calories_per_serving:null,is_healthy:e.is_healthy,demo:!0};window.currentRecipe=n,window.autoGenerateGroceries=!0,t("recipe-detail")}else{var a,l;const e=(null===(a=o.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.detail)||"Failed to generate recipe. Please try again.";alert("Error: ".concat(e))}}finally{s(!1)}},disabled:i,className:"w-full bg-gradient-to-r from-green-500 to-blue-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 disabled:opacity-50",children:i?"Generating Recipe...":"\ud83e\udd16 Generate Recipe"})]})]})})},m=e=>{let{recipe:r,showBackButton:l=!1}=e;const[o,u]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[f,p]=(0,a.useState)(!1);(0,a.useEffect)((()=>{window.autoGenerateGroceries&&r&&n&&(window.autoGenerateGroceries=!1,m())}),[r,n]);const m=async()=>{p(!0);try{const e=await Rt.post("".concat(At,"/grocery/simple-cart"),{recipe_id:r.id,user_id:n.id});d(e.data)}catch(e){if(console.error("Auto grocery generation error:",e),"ERR_NETWORK"===e.code){const e={id:"demo-cart-"+Date.now(),user_id:n.id,recipe_id:r.id,simple_items:r.ingredients.map(((e,t)=>({name:e.replace(/^\d+[\s\w\/]*\s+/,"").replace(/,.*$/,"").trim(),original_ingredient:e,product_id:"demo_".concat(t),price:Math.floor(10*Math.random())+2}))),walmart_url:"https://affil.walmart.com/cart/addToCart?items=".concat(r.ingredients.map(((e,t)=>"demo_".concat(t))).join(",")),total_price:5*r.ingredients.length,demo:!0};d(e)}}finally{p(!1)}};return c?(0,zt.jsx)(g,{cart:c,recipe:r}):(0,zt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zt.jsx)("div",{className:"bg-white shadow-sm p-4",children:(0,zt.jsxs)("div",{className:"max-w-md mx-auto flex items-center justify-between",children:[l&&(0,zt.jsx)("button",{onClick:()=>t("dashboard"),className:"p-2 text-gray-600 hover:text-gray-800",children:"\u2190 Back"}),(0,zt.jsx)("h1",{className:"text-lg font-bold text-gray-800",children:r.title}),(0,zt.jsx)("button",{className:"p-2 text-gray-600 hover:text-gray-800",children:"\u2764\ufe0f"})]})}),(0,zt.jsxs)("div",{className:"p-4 max-w-md mx-auto space-y-4",children:[(0,zt.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,zt.jsx)("p",{className:"text-gray-600 mb-4",children:r.description}),r.is_healthy&&(0,zt.jsx)("div",{className:"bg-green-100 border border-green-300 rounded-lg p-3 mb-4",children:(0,zt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,zt.jsx)("span",{className:"text-green-600 text-lg",children:"\ud83c\udf43"}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h4",{className:"text-green-800 font-semibold text-sm",children:"Healthy Recipe"}),r.calories_per_serving&&(0,zt.jsxs)("p",{className:"text-green-700 text-xs",children:[r.calories_per_serving," calories per serving"]})]})]})}),(0,zt.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,zt.jsxs)("div",{className:"bg-blue-50 p-3 rounded-xl",children:[(0,zt.jsx)("div",{className:"text-2xl",children:"\u23f1\ufe0f"}),(0,zt.jsx)("div",{className:"text-sm text-gray-600",children:"Prep"}),(0,zt.jsxs)("div",{className:"font-semibold",children:[r.prep_time,"m"]})]}),(0,zt.jsxs)("div",{className:"bg-green-50 p-3 rounded-xl",children:[(0,zt.jsx)("div",{className:"text-2xl",children:"\ud83c\udf73"}),(0,zt.jsx)("div",{className:"text-sm text-gray-600",children:"Cook"}),(0,zt.jsxs)("div",{className:"font-semibold",children:[r.cook_time,"m"]})]}),(0,zt.jsxs)("div",{className:"bg-orange-50 p-3 rounded-xl",children:[(0,zt.jsx)("div",{className:"text-2xl",children:"\ud83d\udc65"}),(0,zt.jsx)("div",{className:"text-sm text-gray-600",children:"Serves"}),(0,zt.jsx)("div",{className:"font-semibold",children:r.servings})]})]}),r.calories_per_serving&&(0,zt.jsxs)("div",{className:"mt-4 bg-green-50 p-3 rounded-xl text-center",children:[(0,zt.jsx)("div",{className:"text-2xl",children:"\ud83c\udf43"}),(0,zt.jsx)("div",{className:"text-sm text-green-600",children:"Calories"}),(0,zt.jsxs)("div",{className:"font-semibold text-green-800",children:[r.calories_per_serving," cal"]})]})]}),(0,zt.jsx)("div",{className:"bg-white rounded-2xl shadow-sm p-2",children:(0,zt.jsxs)("div",{className:"flex space-x-2",children:[(0,zt.jsx)("button",{onClick:()=>u(!0),className:"flex-1 py-3 px-4 rounded-xl font-medium transition-all ".concat(o?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"),children:"Ingredients"}),(0,zt.jsx)("button",{onClick:()=>u(!1),className:"flex-1 py-3 px-4 rounded-xl font-medium transition-all ".concat(o?"text-gray-600 hover:bg-gray-100":"bg-blue-500 text-white"),children:"Instructions"})]})}),(0,zt.jsx)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:o?(0,zt.jsxs)("div",{className:"space-y-3",children:[(0,zt.jsx)("h3",{className:"font-semibold text-gray-800 mb-4",children:"Ingredients"}),r.ingredients.map(((e,t)=>(0,zt.jsxs)("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg",children:[(0,zt.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,zt.jsx)("span",{className:"text-gray-700",children:e})]},t)))]}):(0,zt.jsxs)("div",{className:"space-y-4",children:[(0,zt.jsx)("h3",{className:"font-semibold text-gray-800 mb-4",children:"Instructions"}),r.instructions.map(((e,t)=>(0,zt.jsxs)("div",{className:"flex space-x-4 p-3 hover:bg-gray-50 rounded-lg",children:[(0,zt.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-semibold text-sm",children:t+1}),(0,zt.jsx)("p",{className:"text-gray-700 flex-1",children:e})]},t)))]})}),f&&(0,zt.jsx)("div",{className:"bg-blue-50 border border-blue-300 rounded-2xl shadow-sm p-6 mb-4",children:(0,zt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,zt.jsx)("div",{className:"loading w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h4",{className:"text-blue-800 font-semibold",children:"Finding Walmart Products..."}),(0,zt.jsx)("p",{className:"text-blue-600 text-sm",children:"Automatically generating grocery list for your recipe"})]})]})}),!f&&!c&&(0,zt.jsx)("button",{onClick:async()=>{s(!0);try{const e=await Rt.post("".concat(At,"/grocery/simple-cart"),{recipe_id:r.id,user_id:n.id});d(e.data)}catch(e){if(console.error("Grocery cart error:",e),"ERR_NETWORK"===e.code){alert("Demo Mode: Showing sample grocery cart with Walmart URL.");const e={id:"demo-cart-"+Date.now(),user_id:n.id,recipe_id:r.id,simple_items:r.ingredients.map(((e,t)=>({name:e.replace(/^\d+[\s\w\/]*\s+/,"").replace(/,.*$/,"").trim(),original_ingredient:e,product_id:"demo_".concat(t),price:Math.floor(10*Math.random())+2}))),walmart_url:"https://affil.walmart.com/cart/addToCart?items=".concat(r.ingredients.map(((e,t)=>"demo_".concat(t))).join(",")),total_price:5*r.ingredients.length,demo:!0};d(e)}else alert("Failed to create grocery cart. Please try again.")}finally{s(!1)}},disabled:i,className:"w-full bg-gradient-to-r from-green-500 to-blue-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 disabled:opacity-50 mb-4",children:i?"Creating Cart...":"\ud83d\uded2 Order Groceries from Walmart"})]})]})},h=()=>{const[e,r]=(0,a.useState)([]),[l,o]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{null!==n&&void 0!==n&&n.id&&(async()=>{o(!0);try{const e=await Rt.get("".concat(At,"/recipes?user_id=").concat(n.id));r(e.data)}catch(e){console.error("Error loading user recipes:",e)}finally{o(!1)}})()}),[null===n||void 0===n?void 0:n.id]),(0,zt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zt.jsx)("div",{className:"bg-white shadow-sm p-4",children:(0,zt.jsxs)("div",{className:"max-w-md mx-auto flex items-center justify-between",children:[(0,zt.jsx)("button",{onClick:()=>t("dashboard"),className:"p-2 text-gray-600 hover:text-gray-800",children:"\u2190 Back"}),(0,zt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"My Recipes"}),(0,zt.jsx)("div",{})]})}),(0,zt.jsx)("div",{className:"p-4 max-w-md mx-auto",children:l?(0,zt.jsx)("div",{className:"text-center py-8",children:(0,zt.jsx)("div",{className:"loading text-gray-500",children:"Loading your recipes..."})}):e.length>0?(0,zt.jsx)("div",{className:"space-y-4",children:e.map((e=>(0,zt.jsxs)("div",{onClick:()=>{t("recipe-detail"),window.currentRecipe=e},className:"bg-white rounded-2xl shadow-sm p-6 hover:shadow-lg cursor-pointer transition-all",children:[(0,zt.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsx)("h3",{className:"font-semibold text-gray-800 mb-1",children:e.title}),(0,zt.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description})]}),e.is_healthy&&(0,zt.jsx)("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full ml-2",children:"\ud83c\udf43 Healthy"})]}),(0,zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zt.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,zt.jsxs)("span",{children:["\u23f1\ufe0f ",e.prep_time+e.cook_time,"m"]}),(0,zt.jsxs)("span",{children:["\ud83d\udc65 ",e.servings]}),(0,zt.jsxs)("span",{children:["\ud83d\udcca ",e.difficulty]}),e.calories_per_serving&&(0,zt.jsxs)("span",{className:"text-green-600",children:["\ud83c\udf43 ",e.calories_per_serving,"cal"]})]}),(0,zt.jsx)("span",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleDateString()})]})]},e.id)))}):(0,zt.jsxs)("div",{className:"text-center py-12",children:[(0,zt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcdd"}),(0,zt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No recipes yet"}),(0,zt.jsx)("p",{className:"text-gray-500 mb-6",children:"Start by generating your first AI recipe!"}),(0,zt.jsx)("button",{onClick:()=>t("generate"),className:"bg-gradient-to-r from-green-500 to-blue-500 text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200",children:"\ud83e\udd16 Generate Recipe"})]})})]})},g=e=>{var n,r;let{cart:a,recipe:l}=e;return(0,zt.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,zt.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-3xl shadow-lg p-6",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zt.jsx)("button",{onClick:()=>t("all-recipes"),className:"p-2 text-gray-600 hover:text-gray-800",children:"\u2190 Back to Recipes"}),(0,zt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Grocery List"}),(0,zt.jsx)("div",{})]}),(0,zt.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:[(0,zt.jsx)("h3",{className:"font-semibold text-blue-800 mb-1",children:l.title}),(0,zt.jsxs)("p",{className:"text-blue-600 text-sm",children:["Ingredients for ",l.servings," servings"]})]}),(0,zt.jsxs)("div",{className:"space-y-4",children:[(0,zt.jsxs)("div",{className:"space-y-3",children:[(0,zt.jsx)("h4",{className:"font-semibold text-gray-800",children:"Walmart Products Found:"}),null===(n=a.simple_items)||void 0===n?void 0:n.map(((e,t)=>{var n;return(0,zt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsx)("h4",{className:"font-medium text-gray-800",children:e.name}),(0,zt.jsx)("p",{className:"text-sm text-gray-600",children:e.original_ingredient})]}),(0,zt.jsx)("div",{className:"text-right",children:(0,zt.jsxs)("span",{className:"font-semibold text-green-600",children:["$",(null===(n=e.price)||void 0===n?void 0:n.toFixed(2))||"0.00"]})})]},t)}))]}),(0,zt.jsxs)("div",{className:"border-t pt-4",children:[(0,zt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,zt.jsx)("span",{className:"text-lg font-semibold text-gray-800",children:"Estimated Total:"}),(0,zt.jsxs)("span",{className:"text-2xl font-bold text-green-600",children:["$",(null===(r=a.total_price)||void 0===r?void 0:r.toFixed(2))||"0.00"]})]}),(0,zt.jsx)("div",{className:"bg-green-50 p-4 rounded-xl mb-4",children:(0,zt.jsxs)("p",{className:"text-sm text-green-800",children:[(0,zt.jsx)("strong",{children:"\ud83d\uded2 Ready to Order:"})," We've found the basic ingredients you need. Click below to add them to your Walmart cart and complete your purchase!"]})}),(0,zt.jsx)("button",{onClick:()=>{window.open(a.walmart_url,"_blank"),alert("Opening Walmart with your ingredients! Complete your purchase there."),setTimeout((()=>{t("all-recipes")}),1e3)},className:"w-full bg-gradient-to-r from-green-500 to-blue-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200",children:"\ud83d\uded2 Order at Walmart Now"})]})]})]})})};return(0,zt.jsx)("div",{className:"App",children:(()=>{switch(e){case"home":default:return(0,zt.jsx)(u,{});case"signup":return(0,zt.jsx)(d,{});case"dashboard":return(0,zt.jsx)(f,{});case"generate":return(0,zt.jsx)(p,{});case"all-recipes":return(0,zt.jsx)(h,{});case"recipe-detail":return window.currentRecipe?(0,zt.jsx)(m,{recipe:window.currentRecipe,showBackButton:!0}):(0,zt.jsx)(f,{})}})()})};l.createRoot(document.getElementById("root")).render((0,zt.jsx)(a.StrictMode,{children:(0,zt.jsx)(Ft,{})}))})();
//# sourceMappingURL=main.b320abc1.js.map